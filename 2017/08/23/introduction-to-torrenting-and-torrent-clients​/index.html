<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Introduction to Torrenting & Torrent Clients​ · Brainstain</title><meta name="description" content="Introduction to Torrenting &amp; Torrent Clients​ - Luyao &quot;Lulu&quot; Wang &amp; John L. Bernstein IV"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://luyao-wang.github.io/atom.xml" title="Brainstain"><script src="https://use.fontawesome.com/0a81c537eb.js">   </script><script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">TAG</a></li><li class="nav-list-item"><a href="/cs3240/" target="_self" class="nav-list-link">CS3240</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/contact/" target="_self" class="nav-list-link">CONTACT</a></li><li class="nav-list-item"><a href="https://github.com/luyao-wang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/search" target="_self" class="nav-list-link search"><i class="fa fa-search" aria-hidden="true"></i></a></li></ul></header><main class="container"></main><div class="post"><article class="post-block"><h1 class="post-title">Introduction to Torrenting & Torrent Clients​</h1><div class="post-info">Aug 23, 2017<span class="categories"><i class="fa fa-bookmark" aria-hidden="true"></i></span><a href="/categories/en-🇺🇸/" class="post-category">#en 🇺🇸</a><a href="/categories/en-🇺🇸/school🎓/" class="post-category">#school🎓</a><a href="/categories/en-🇺🇸/school🎓/distributed-systems/" class="post-category">#distributed systems</a><a href="/categories/en-🇺🇸/school🎓/distributed-systems/torrent/" class="post-category">#torrent</a><a href="/categories/en-🇺🇸/school🎓/distributed-systems/torrent/file-system/" class="post-category">#file system</a><a href="/categories/en-🇺🇸/school🎓/distributed-systems/torrent/file-system/peer-to-peer/" class="post-category">#peer to peer</a></div><div class="post-content"><h3 id="What-is-a-torrent-client-​"><a href="#What-is-a-torrent-client-​" class="headerlink" title="What is a torrent client?​"></a>What is a torrent client?​</h3><p>A tool that helps assist users in downloading files seamlessly, quickly, and without depending upon a centralized server.​</p>
<p>Implements the BitTorrent protocol. Why use torrenting? We’ll explore this next.​</p>
<h3 id="Torrenting-Terminologies-amp-Why-Torrent-​"><a href="#Torrenting-Terminologies-amp-Why-Torrent-​" class="headerlink" title="Torrenting: Terminologies &amp; Why Torrent?​"></a>Torrenting: Terminologies &amp; Why Torrent?​</h3><p>Torrents are files that point to a remote server or themselves act as the server. This server contains a list of machines that contain portions of the file(s) to download.</p>
<p>Machines that are downloading a file are known as <code>“peers”</code>.​</p>
<p>Machines that contain even just a portion of a file AND are able to share the file are known as <code>“seeds”</code>. ​
When multiple machines all are sharing the same torrent file, this is known as a <code>“swarm”</code>.​</p>
<p>Torrenting is much faster than utilizing a centralized server for two main reasons:​</p>
<ul>
<li><p>High levels of traffic to a machine can slow down the machine or cause a crash from servicing too many requests at once.​</p>
</li>
<li><p>BitTorrent protocol allows seeds themselves to <em>immediately</em> start sharing information once portions of a file have been downloaded. Another machine does not need to wait for the first machine to finish downloading the file before it can receive parts of the file.​</p>
</li>
</ul>
<p><a href="https://raw.githubusercontent.com/webtorrent/bittorrent-tracker/master/img.png" target="_blank" rel="external"><strong><code>Illustration of a typical BitTorrent Swarm​</code></strong></a></p>
<p><img src="https://raw.githubusercontent.com/webtorrent/bittorrent-tracker/master/img.png" alt=""></p>
<h3 id="Managing-Torrents​"><a href="#Managing-Torrents​" class="headerlink" title="Managing Torrents​"></a>Managing Torrents​</h3><p>The decentralized nature of torrenting is great in theory but for it to work in practice, we’d still need some way of keeping track of all the machines downloading a file (peers) and all the machines that are acting as a container for a file (seeds).​</p>
<p>BitTorrent handles this via a <code>“Tracker”</code>. The tracker keeps track of all peers connected in a swarm along with all of the various seeds that peers can connect to, to access a file.​</p>
<p>The tracker also keeps track of what “part” of a file is attached to what machine. This ensures that peers will get the various pieces of data that they need for a file and no duplicate copies of information that has already been attained.​</p>
<p><a href="http://images.morehawes.co.uk/bittorrent/tracker.png" target="_blank" rel="external"><strong><code>BitTorrent Tracker Diagram​</code></strong></a>
<img src="http://images.morehawes.co.uk/bittorrent/tracker.png" alt=""></p>
<h3 id="BitTorrent-Vulnerabilities-Loss-of-Seed​"><a href="#BitTorrent-Vulnerabilities-Loss-of-Seed​" class="headerlink" title="BitTorrent Vulnerabilities : Loss of Seed​"></a>BitTorrent Vulnerabilities : Loss of Seed​</h3><p>BitTorrent’s use of swarms &amp; multiple seeds for components of a file allows peers to potentially download files faster. Part of this is by allowing machines with only a <em>portion</em> of a file to immediately begin transferring data. But what happens if a seed exits a swarm? Do we lose a vital chunk of data?​</p>
<p>No! BitTorrent works around this by way of “rarest first” algorithm. What is the “rarest first” algorithm?​</p>
<p>Each piece of data in a file is assigned a value. Each peer in a swarm has attached with it a reference to those pieces of data. When a new peer joins the swarm, the BitTorrent protocol will look for the data with the lowest reference count (therefore the rarest piece) and will give any and all new peers that section of data before any “common” pieces of information.​</p>
<p>Now if a seed in the BitTorrent swarm goes away (e.g. disconnect), chances are higher that all other peers will have any pieces of data that the lost seed contained.​</p>
<h3 id="BitTorrent-Vulnerabilities-Multiple-Requests​"><a href="#BitTorrent-Vulnerabilities-Multiple-Requests​" class="headerlink" title="BitTorrent Vulnerabilities: Multiple Requests​"></a>BitTorrent Vulnerabilities: Multiple Requests​</h3><p>Rarest-first algorithm helps us circumvent the issue of data loss from a seed being removed from a swarm but another pitfall is the bottleneck imposed on each seed of the swarm.​</p>
<p>When a peer requests a portion of a file from a seed, the seed must spend some time accessing the component of the file and stream it to the peer. ​</p>
<p>When too many requests are made to a seed at once, the seed may refuse to communicate with a peer. This is known as <code>“choking”</code>.​</p>
<p>To work around choking, BitTorrent will rotate which seed should be targeted by a peer via a “choking algorithm”. Likewise, to “unchoke” a seed, the server will send an unchoke message to tell it to stop blocking requests from peers that may be targeting the seed.​</p>
<h3 id="BitTorrent-Vulnerabilities-Ambiguous-Speeds​"><a href="#BitTorrent-Vulnerabilities-Ambiguous-Speeds​" class="headerlink" title="BitTorrent Vulnerabilities: Ambiguous Speeds​"></a>BitTorrent Vulnerabilities: Ambiguous Speeds​</h3><p>All seeds are peers but not all peers are seeds. When a peer is a member of a swarm and downloads a file but does not act as a seed, this peer is known as a <code>&quot;leech&quot;</code>.​</p>
<p>High prevalence of <code>&quot;leechers&quot;</code> will impose a lot of stress on the number of requests given to a seed while at the same time not increasing file transfer performance. Controlling the amount of leechers could block out some potential users and/or add in extra overhead.​</p>
<p>The exact number of peers for any given swarm and any given file is heavily dependent both on the popularity of a file (more downloaded files will have more seeds, therefore higher download speeds for new peers) and on the number of seeds attached to a given swarm.​</p>
<p>Because of this, the exact speeds of any given swarm are speculative at best. For business class software, this kind of ambiguous speeds could result in the software failing to achieve popularity on the market. ​</p>
<h3 id="Ancillary-Challenges-No-search-engine-​"><a href="#Ancillary-Challenges-No-search-engine-​" class="headerlink" title="Ancillary Challenges: No search engine!​"></a>Ancillary Challenges: No search engine!​</h3><p>One problem posed with torrent clients is the lack of a search engine built in. When a peer intends to torrent a file, the user of the peer must know exactly what they are looking for <em>and</em> where to look for it. Torrent search engines do exist as third parties but are not built into the box. ​</p>
<p>Utilization of these third parties <em>also</em> pose problems both due to the fact that at times torrents are used to transfer illegal content (e.g. copyrighted materials) and due to that fact, at times these torrent search engines will contain malicious software (malware).​</p>
<p>At times the validity of a particular torrent can be suspect as well. Torrent files themselves (especially if in a compressed format such as .zip) can at times contain malware. This makes at least some torrent search engines even harder to trust.​</p>
<h3 id="Sources-Used-amp-Useful-Links"><a href="#Sources-Used-amp-Useful-Links" class="headerlink" title="Sources Used &amp; Useful Links"></a>Sources Used &amp; Useful Links</h3><p>🍕 <a href="http://conferences.sigcomm.org/imc/2006/papers/p20-legout.pdf​" target="_blank" rel="external">Rarest First Principle - PDF</a></p>
<p>🌭 <a href="https://github.com/vaibhav-walia" target="_blank" rel="external">Vaibhav Walia - Github</a></p>
<p>🍔 <a href="https://github.com/webtorrent/bittorrent-protocol" target="_blank" rel="external">BitTorrent Protocol - Github</a></p>
<p>🍟 <a href="https://github.com/webtorrent/create-torrent" target="_blank" rel="external">Create Torrent - Github</a></p>
<p>🌮 <a href="https://github.com/webtorrent/webtorrent-cli" target="_blank" rel="external">WebTorrent CLI - Github</a>
​</p>
<p>🌯 <a href="https://nodejs.org/api/fs.html" target="_blank" rel="external">Node.js</a></p>
<p>🍜 <a href="https://www.npmjs.com/" target="_blank" rel="external">npm</a></p>
<p>🍮 <a href="https://archive.org/" target="_blank" rel="external">Internet Archive</a></p>
<p>🍭 <a href="https://wiki.vuze.com/w/Legal_torrent_sites" target="_blank" rel="external">Vuze - Legal Torrents</a></p>
<p>🍺 <a href="http://patorjk.com/software/taag/#p=testall&amp;f=Larry%203D&amp;t=CS%206580%20Final%20Demo" target="_blank" rel="external">ASCII Art Generator</a></p>
<p>​</p>
</div><p class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/distributed-systems/">#distributed systems</a><a href="/tags/en-🇺🇸/">#en 🇺🇸</a><a href="/tags/school🎓/">#school🎓</a><a href="/tags/torrent/">#torrent</a><a href="/tags/file-system/">#file system</a><a href="/tags/peer-to-peer/">#peer to peer</a></p></article></div><footer><div class="paginator"><a href="/2017/08/23/hadoop-big-data-best-friend/" class="prev">PREV</a><a href="/2017/08/15/hello-world/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'luyaowang';
var disqus_identifier = '2017/08/23/introduction-to-torrenting-and-torrent-clients​/';
var disqus_title = 'Introduction to Torrenting &amp; Torrent Clients​';
var disqus_url = 'https://luyao-wang.github.io/2017/08/23/introduction-to-torrenting-and-torrent-clients​/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//luyaowang.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 <a href="https://luyao-wang.github.io">Luyao "Lulu" Wang & John L. Bernstein IV</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p>Cal Hacks 2.0 🐻 Bear Logo courtesy of : <a href="https://cal-hacks2.devpost.com">Cal Hacks 2.0@UC Berkeley</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-39886095-1",'auto');ga('send','pageview');</script><link rel="stylesheet" href="//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" media="screen" type="text/css"><script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script><script>$(function(){$('.datatable').dataTable( {"order": [[ 0, "desc" ]],"iDisplayLength": -1,"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]} );});</script></body></html>